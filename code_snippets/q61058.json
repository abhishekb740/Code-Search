{
    "title": "Proper use cases for Android UserManager.isUserAGoat()?",
    "description": [
        "Want to improve this post? Provide detailed answers to this question, including citations and an explanation of why your answer is correct. Answers without enough detail may be edited or deleted.",
        "                                ",
        "                            ",
        "I was looking at the new APIs introduced in Android 4.2.",
        "While looking at the UserManager class I came across the following method:",
        "public boolean isUserAGoat()",
        "Used to determine whether the user making this call is subject to teleportations.",
        "Returns whether the user making this call is a goat.",
        "How and when should this be used?"
    ],
    "answer": [
        "Android R Update:",
        "From Android R, this method always returns false. Google says that this is done \"to protect goat privacy\":",
        "/**",
        " * Used to determine whether the user making this call is subject to",
        " * teleportations.",
        " *",
        " * <p>As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can",
        " * now automatically identify goats using advanced goat recognition technology.</p>",
        " *",
        " * <p>As of {@link android.os.Build.VERSION_CODES#R}, this method always returns",
        " * {@code false} in order to protect goat privacy.</p>",
        " *",
        " * @return Returns whether the user making this call is a goat.",
        " */",
        "public boolean isUserAGoat() {",
        "    if (mContext.getApplicationInfo().targetSdkVersion >= Build.VERSION_CODES.R) {",
        "        return false;",
        "    }",
        "    return mContext.getPackageManager()",
        "            .isPackageAvailable(\"com.coffeestainstudios.goatsimulator\");",
        "}",
        "Previous answer:",
        "From their source, the method used to return false until it was changed in API 21.",
        "/**",
        " * Used to determine whether the user making this call is subject to",
        " * teleportations.",
        " * @return whether the user making this call is a goat ",
        " */",
        "public boolean isUserAGoat() {",
        "    return false;",
        "}",
        "It looks like the method has no real use for us as developers. Someone has previously stated that it might be an Easter egg.",
        "In API 21 the implementation was changed to check if there is an installed app with the package com.coffeestainstudios.goatsimulator",
        "/**",
        " * Used to determine whether the user making this call is subject to",
        " * teleportations.",
        " *",
        " * <p>As of {@link android.os.Build.VERSION_CODES#LOLLIPOP}, this method can",
        " * now automatically identify goats using advanced goat recognition technology.</p>",
        " *",
        " * @return Returns true if the user making this call is a goat.",
        " */",
        "public boolean isUserAGoat() {",
        "    return mContext.getPackageManager()",
        "            .isPackageAvailable(\"com.coffeestainstudios.goatsimulator\");",
        "}",
        "Here is the source and the change."
    ]
}